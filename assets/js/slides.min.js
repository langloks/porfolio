const paintings=[{src:"./assets/images/portfolio_preview/test.png"},{src:"./assets/images/portfolio_preview/botanica.png"},{src:"./assets/images/portfolio_preview/algo.png"},{src:"./assets/images/portfolio_preview/canva.png"},{src:"./assets/images/portfolio_preview/narci.png"},{src:"./assets/images/portfolio_preview/shifting.png"}],canvas=document.querySelector("div.canvas-holder canvas"),sandbox=new GlslCanvas(canvas);sandbox.load(frag(paintings));let startIndex=0,endIndex=0,timeline=performance.now()-9999;const sizer=function(){const e=window.innerWidth,n=window.innerHeight,i=Math.min(e,n),t=window.devicePixelRatio;canvas.width=.2*i*t,canvas.height=.3*i*t,canvas.style.width=Math.round(.5*i)+"px",canvas.style.height=Math.round(.8*i)+"px"},update=function(){timeline=performance.now(),sandbox.setUniform("startIndex",startIndex),sandbox.setUniform("endIndex",endIndex),tick(),startIndex=endIndex},tick=function(){const e=(performance.now()-timeline)/1e3;sandbox.setUniform("timeline",e),requestAnimationFrame(tick)},load=function(){sizer(),tick(),paintings.forEach((e,n)=>{sandbox.setUniform(`textures[${n}]`,e.src)})};load(),document.querySelectorAll(".hover").forEach(e=>{e.addEventListener("mouseover",n=>{n.preventDefault(),endIndex=parseFloat(e.dataset.number),document.getElementById("menu-caption").innerHTML=e.dataset.sub,update()})}),window.addEventListener("resize",function(){sizer()});const left=document.getElementById("left"),right=document.getElementById("right");let imageIndex=0,gifList=["anim1.gif","anim2.gif","anim3.gif","anim4.gif","anim5.gif","anim6.gif"];left.addEventListener("click",function(){imageIndex>0?imageIndex-=1:0==imageIndex&&(imageIndex=gifList.length-1),document.getElementById("gif").src=`assets/animation/${gifList[imageIndex]}`}),right.addEventListener("click",function(){imageIndex==gifList.length-1?imageIndex=0:imageIndex+=1,document.getElementById("gif").src=`assets/animation/${gifList[imageIndex]}`}),document.getElementById("gif").src=`assets/animation/${gifList[imageIndex]}`;